<form [formGroup]="form" (ngSubmit)="onSubmit()" class="contact-us-modal">
  <h2 mat-dialog-title>
    Contact Us
  </h2>
  <mat-dialog-content class="mat-typography">

    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label for="firstname">First Name</label>
          <div class="input-group">
            <input type="text" id="firstname" class="form-control" placeholder="First Name"
                   formControlName="firstname" [ngClass]="{ 'is-invalid': submitted && f.firstname.errors }">
            <div *ngIf="submitted && f.firstname.errors" class="invalid-feedback">
              <div *ngIf="f.firstname.errors.required">Firstname is required</div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="lastname">
          <label for="email">Last Name</label>
          <div class="input-group">
            <input type="text" id="lastname" class="form-control" placeholder="Last name"
                   formControlName="lastname" [ngClass]="{ 'is-invalid': submitted && f.lastname.errors }">
            <div *ngIf="submitted && f.lastname.errors" class="invalid-feedback">
              <div *ngIf="f.lastname.errors.required">Lastname is required</div>
            </div>
          </div>
        </div>
      </div>
    </div>


    <div class="form-group">
      <label for="email">Email address</label>
      <div class="input-group">
        <input type="email" id="email" class="form-control" placeholder="Email address" formControlName="email"
               [ngClass]="{ 'is-invalid': submitted && f.email.errors }">
        <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
          <div *ngIf="f.email.errors.required">Email is required</div>
        </div>
      </div>
    </div>


    <div class="form-group">
      <label for="message">Message</label>
      <div class="input-group">
        <textarea id="message" class="form-control" formControlName="message" placeholder="Write your comment"
                  [maxlength]="maxMessageLength"
                  [ngClass]="{ 'is-invalid': submitted && f.message.errors }"></textarea>

        <div class="message-length">
          {{(maxMessageLength - f.message.value.length)}}/{{maxMessageLength}} characters remaining
        </div>

        <div *ngIf="submitted && f.message.errors" class="invalid-feedback">
          <div *ngIf="f.message.errors.required">Message is required</div>
        </div>
      </div>
    </div>


  </mat-dialog-content>
  <mat-dialog-actions align="end">
    <button type="cancel" mat-button mat-dialog-close>Cancel</button>
    <button type="submit" [disabled]="loading" mat-raised-button color="primary"
            cdkFocusInitial>
      <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
      Submit
    </button>
  </mat-dialog-actions>
</form>
